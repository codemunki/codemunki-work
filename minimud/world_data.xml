<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE minimud_world SYSTEM "world_data.dtd">

<minimud_world>
	<room>
		<id>1</id>
		<name>Starter Tavern</name>
		<description>You appear in a dark, smelly tavern.  You can't pick out any specific conversation amongst the cacophony, but you're sure it's there.  The exit to the street is to the west.  There is a rusty lantern on the table in front of you.  What looks like a door to a storeroom is to the north.</description>
		<move>
			<direction>west</direction>
			<next_room_id>2</next_room_id>
			<description>Street exit</description>
		</move>
		<move>
			<direction>north</direction>
			<next_room_id>3</next_room_id>
			<description>Storeroom door</description>
		</move>
		<npc>
			<name>Tommy</name>
			<description>a tall, scruffy man in a brown leather jerkin.  He looks a little drunk, but otherwise harmless.  He looks like he has something to say.</description>
			<intro>Name's Tommy the Lip, but you can call me Tommy.  Welcome to the world of MiniMUD.  I can answer most basic questions that new folks tend to ask.</intro>
			<action>
				<name>punch</name>
				<result>
					<type>text_only</type>
					<description>You try to punch Tommy the Lip, but miss.  Maybe he's not as drunk as he looks.</description>
				</result>
			</action>
			<action>
				<name>push</name>
				<result>
					<type>text_only</type>
					<description>You push Tommy.  He didn't appear to enjoy it as much as you did.</description>
				</result>
			</action>
			<action>
				<name>punch</name>
				<result>
					<type>text_only</type>
					<description>You try to punch Tommy the Lip, but miss.  Maybe he's not as drunk as he looks.</description>
				</result>
			</action>
			<action>
				<name>talk</name>
				<result>
					<type>give_quest</type>
					<value>1</value>
					<description>Hi.  I'm Tommy.  Welcome to the tavern.  You look new.  You should pick up that lantern over there.  It might come in handy later.</description>
				</result>
			</action>
			<action>
				<name>talk</name>
				<quest_dependency_id>1</quest_dependency_id>
				<quest_dependency_step>1</quest_dependency_step>
				<result>
					<type>text_only</type>
					<description>You should try picking up the lantern.</description>
				</result>
			</action>
			<action>
				<name>talk</name>
				<quest_dependency_id>1</quest_dependency_id>
				<quest_dependency_step>2</quest_dependency_step>
				<result>
					<type>complete_quest</type>
					<description>Nice work.  You should go adventuring.</description>
					<value>1</value>
				</result>
			</action>
			<action>
				<name>talk</name>
				<quest_dependency_complete>1</quest_dependency_complete>
				<result>
					<type>text_only</type>
					<description>Now that you have completed your first quest, maybe you should try traveling.  Type 'north' or 'west' to check out the adjacent areas.</description>
				</result>
			</action>
		</npc>
		<object>
			<name>lantern</name>
			<description>a standard oil-based lantern, covered in rust.  It must not be important to anyone.</description>
			<action>
				<name>push</name>
				<result>
					<type>text_only</type>
					<description>You push the lantern and it falls over.</description>
				</result>
			</action>
			<action>
				<name>take</name>
				<quest_dependency_id>1</quest_dependency_id>
				<quest_dependency_step>1</quest_dependency_step>
				<result>
					<type>item_reward</type>
					<description>You take the lantern and add it to your inventory</description>
					<item_id>1</item_id>
				</result>
				<result>
					<type>update_quest</type>
					<description>Talk to Tommy to complete the quest.</description>
					<value>2</value>
				</result>
				<result>
					<type>xp_reward</type>
					<description>You just completed your first quest step!</description>
					<value>5</value>
				</result>
			</action>
			<action>
				<name>take</name>
				<result>
					<type>text_only</type>
					<description>You think this belongs to Tommy.  Maybe you should talk to him before you take it.</description>
					<item_id>1</item_id>
				</result>
			</action>
		</object>
	</room>

	<room>
		<id>2</id>
		<name>Main Street</name>
		<description>You turn on to Main Street.  There isn't much traffic this time of day.  To the east is a loud, smelly tavern.</description>
		<move>
			<direction>east</direction>
			<next_room_id>1</next_room_id>
			<description>Tavern door</description>
		</move>			
	</room>

	<room>
		<id>3</id>
		<name>Storeroom</name>
		<description>You quietly sneak into the storeroom.  It is lined with the skulls of sacrificed animals.  There is a pentagram painted on the floor in blood.  You wonder what exactly is in the meat pie.  To the south is the door back into the main Tavern.</description>
		<move>
			<direction>south</direction>
			<next_room_id>1</next_room_id>
			<description>Tavern door</description>
		</move>			
	</room>
	<item>
		<id>1</id>
		<name>lantern</name>
		<description>a lantern.  It's a bit rusty, but it still works.</description>
	</item>
	<quest>
		<id>1</id>
		<name>Welcome to MiniMUD</name>
		<reward_xp>10</reward_xp>
		<first_bonus>20</first_bonus>
		<reward_gold>100</reward_gold>
		<quest_step>
			<step_number>1</step_number>
			<description>Tommy has asked you to pick up the lantern from the table.</description>
			<hint>type 'take lantern' to pick up the lantern.</hint>
			<reward_xp>100</reward_xp>
			<reward_gold>10</reward_gold>
		</quest_step>
	</quest>

	<monster>
		<id>1</id>
		<name>Imp</name>
		<description>what looks like the fiery manifestation of Hell...in a bite-sized package.</description>
		<health>20</health>
		<attack_power>1</attack_power>
		<magic_power>1</magic_power>
		<defense>1</defense>
		<magic_defense>1</magic_defense>
		<loot_table_id>1</loot_table_id>
	</monster>
	<monster>
		<id>2</id>
		<name>Ratter</name>
		<description>a giant bi-pedal rat or a smallish furry man with a pointy nose.  It's hard tell.</description>
		<health>20</health>
		<attack_power>1</attack_power>
		<magic_power>1</magic_power>
		<defense>1</defense>
		<magic_defense>1</magic_defense>
		<loot_table_id>1</loot_table_id>
	</monster>
</minimud_world>
